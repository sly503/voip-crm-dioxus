# VoIP CRM Configuration

# Database
POSTGRES_USER=voipcrm
POSTGRES_PASSWORD=voipcrm123
POSTGRES_DB=voipcrm
DATABASE_URL=postgres://voipcrm:voipcrm123@localhost:5432/voipcrm

# Server
PORT=3000
JWT_SECRET=your-secure-jwt-secret-change-in-production

# Telnyx API (get from https://portal.telnyx.com)
TELNYX_API_KEY=your-telnyx-api-key
TELNYX_CONNECTION_ID=your-telnyx-connection-id
TELNYX_CALLER_ID=+15551234567

# Webhook URL (for Telnyx callbacks - use ngrok for local dev)
WEBHOOK_URL=https://your-domain.com/api/webhooks/telnyx

# Anthropic Claude API (for AI-powered calls)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Frontend (for development)
API_URL=http://localhost:3000

# pgAdmin (optional)
PGADMIN_EMAIL=admin@voipcrm.local
PGADMIN_PASSWORD=admin123

# ============================================================
# Email Configuration (SMTP)
# ============================================================
# SMTP server configuration for sending verification and invitation emails
# Required for user registration and invitation features to work

# SMTP server hostname (e.g., smtp.gmail.com, smtp.sendgrid.net, smtp.mailgun.org)
SMTP_HOST=smtp.example.com

# SMTP server port (587 for TLS, 465 for SSL, 25 for unencrypted - not recommended)
SMTP_PORT=587

# SMTP authentication username (usually your email address or API username)
SMTP_USERNAME=your-smtp-username

# SMTP authentication password (or API key for services like SendGrid/Mailgun)
SMTP_PASSWORD=your-smtp-password

# From email address (must be authorized to send from your SMTP server)
SMTP_FROM_EMAIL=noreply@voipcrm.local

# From name displayed in emails (optional, defaults to "VoIP CRM")
SMTP_FROM_NAME=VoIP CRM

# ============================================================
# Application Configuration
# ============================================================
# Base URL where the application is hosted (used for generating verification and invitation links)
# For local development with ngrok: https://your-subdomain.ngrok.io
# For production: https://your-domain.com
APP_URL=http://localhost:3000

# Enable or disable user self-registration (true/false)
# Set to false to disable public registration and only allow invitation-based signup
REGISTRATION_ENABLED=true

# Telnyx WebRTC Credentials (get from Telnyx Portal > SIP Connections)
TELNYX_SIP_USERNAME=your-sip-username
TELNYX_SIP_PASSWORD=your-sip-password

# ============================================================
# Direct SIP Trunk Configuration (Alternative to Telnyx)
# ============================================================
# Use these settings to connect directly to a SIP trunk provider
# such as Twilio SIP, VoIP.ms, Flowroute, Bandwidth, etc.
# This is more cost-effective than Telnyx (~80% cheaper)

# SIP Trunk Host (e.g., sip.twilio.com, atlanta.voip.ms)
# SIP_TRUNK_HOST=sip.yourprovider.com

# SIP Trunk Port (5060 for UDP/TCP, 5061 for TLS)
# SIP_TRUNK_PORT=5060

# SIP Credentials
# SIP_USERNAME=your-sip-username
# SIP_PASSWORD=your-sip-password

# Caller ID / DID (your phone number in E.164 format)
# SIP_CALLER_ID=+15551234567

# SIP Domain (usually same as trunk host)
# SIP_DOMAIN=sip.yourprovider.com

# Transport Protocol (UDP, TCP, or TLS)
# SIP_TRANSPORT=UDP

# Audio Codec (PCMU for US, PCMA for EU)
# SIP_CODEC=PCMU

# RTP Port Range
# SIP_RTP_PORT_START=10000
# SIP_RTP_PORT_END=20000

# Registration Expiry (seconds)
# SIP_REGISTER_EXPIRES=3600

# STUN Server for NAT traversal (optional)
# SIP_STUN_SERVER=stun.l.google.com:19302

# ============================================================
# Call Recording Configuration
# ============================================================
# Base directory for storing call recordings
RECORDINGS_PATH=./recordings

# Maximum storage quota in gigabytes
MAX_STORAGE_GB=100

# Default retention period in days
DEFAULT_RETENTION_DAYS=90

# Master encryption key (32 bytes hex-encoded, 64 characters)
# IMPORTANT: Generate a secure random key using a cryptographic random generator
# You can generate one using: openssl rand -hex 32
# NEVER use the example value in production!
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Storage alert threshold percentage (default: 80)
# Email alerts are sent to admins when storage usage exceeds this percentage
STORAGE_ALERT_THRESHOLD=80
